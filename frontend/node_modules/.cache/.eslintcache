[{"/var/www/html/FE/src/index.tsx":"1","/var/www/html/FE/src/reportWebVitals.ts":"2","/var/www/html/FE/src/page/App.tsx":"3","/var/www/html/FE/src/page/NotFound.tsx":"4","/var/www/html/FE/src/component/Layout.tsx":"5","/var/www/html/FE/src/page/auth/Login.tsx":"6","/var/www/html/FE/src/page/auth/Register.tsx":"7","/var/www/html/FE/src/api/authAPI.ts":"8","/var/www/html/FE/src/utils/axios.ts":"9","/var/www/html/FE/src/utils/cookie.ts":"10","/var/www/html/FE/src/mobX/AuthStore.ts":"11","/var/www/html/FE/src/type/UserType.ts":"12","/var/www/html/FE/src/utils/sweetalert.ts":"13","/var/www/html/FE/src/page/auth/PasswordReset.tsx":"14","/var/www/html/FE/src/page/auth/PasswordResetUpdate.tsx":"15","/var/www/html/FE/src/api/userAPI.ts":"16"},{"size":1439,"mtime":1686376152013,"results":"17","hashOfConfig":"18"},{"size":425,"mtime":1686179496000,"results":"19","hashOfConfig":"18"},{"size":5990,"mtime":1686386036166,"results":"20","hashOfConfig":"18"},{"size":11952,"mtime":1686381891581,"results":"21","hashOfConfig":"18"},{"size":3048,"mtime":1686376171677,"results":"22","hashOfConfig":"18"},{"size":2659,"mtime":1686372202218,"results":"23","hashOfConfig":"18"},{"size":3202,"mtime":1686363813373,"results":"24","hashOfConfig":"18"},{"size":830,"mtime":1686376919956,"results":"25","hashOfConfig":"18"},{"size":2152,"mtime":1686361596662,"results":"26","hashOfConfig":"18"},{"size":380,"mtime":1681549521151,"results":"27","hashOfConfig":"18"},{"size":547,"mtime":1686378546673,"results":"28","hashOfConfig":"18"},{"size":403,"mtime":1686379575024,"results":"29","hashOfConfig":"18"},{"size":877,"mtime":1686359014315,"results":"30","hashOfConfig":"18"},{"size":1408,"mtime":1686373174828,"results":"31","hashOfConfig":"18"},{"size":2847,"mtime":1686376184822,"results":"32","hashOfConfig":"18"},{"size":510,"mtime":1686385899807,"results":"33","hashOfConfig":"18"},{"filePath":"34","messages":"35","suppressedMessages":"36","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"p8v536",{"filePath":"37","messages":"38","suppressedMessages":"39","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"41","messages":"42","suppressedMessages":"43","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"44"},{"filePath":"45","messages":"46","suppressedMessages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"48","messages":"49","suppressedMessages":"50","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"51","messages":"52","suppressedMessages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"54","messages":"55","suppressedMessages":"56","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"57","messages":"58","suppressedMessages":"59","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"60","messages":"61","suppressedMessages":"62","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"63","messages":"64","suppressedMessages":"65","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"66","messages":"67","suppressedMessages":"68","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"69","messages":"70","suppressedMessages":"71","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"72","messages":"73","suppressedMessages":"74","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"75","messages":"76","suppressedMessages":"77","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"78","messages":"79","suppressedMessages":"80","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"81","messages":"82","suppressedMessages":"83","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/var/www/html/FE/src/index.tsx",[],[],"/var/www/html/FE/src/reportWebVitals.ts",[],[],[],"/var/www/html/FE/src/page/App.tsx",["84","85"],[],"import React, { useState } from 'react';\nimport '../css/App.css';\nimport { useEffect, useLayoutEffect } from 'react';\nimport userAPI from '../api/userAPI';\nimport Filter from '../type/Filter';\nimport { User } from '../type/UserType';\nimport authAPI from '../api/authAPI';\nimport { useNavigate } from 'react-router-dom';\nimport SweetAlert from '../utils/sweetalert';\nimport Swal from 'sweetalert2';\n\n\nconst App = () => {\n  const [user, setUser] = useState<User[] | null>(null);\n  const [filter, setFilter] = useState<Filter>({ 'page': 1 });\n  const [isDetail, setIsDetail] = useState(false);\n  const [isDelete, setIsDelete] = useState(false);\n  const [isUpdate, setIsUpdate] = useState(false);\n  const navigate = useNavigate();\n\n  const checkPermission = async () => {\n    const isList = await authAPI.permission('view_all_user');\n    if (!isList.success) {\n      navigate('/error');\n    }\n    const isdetail = await authAPI.permission('view_user');\n    isdetail ? setIsDetail(true) : setIsDetail(false);\n    const isdelete = await authAPI.permission('delete_user');\n    isdelete ? setIsDelete(true) : setIsDelete(false);\n    const isupdate = await authAPI.permission('edit_user');\n    isupdate ? setIsUpdate(true) : setIsUpdate(false);\n  };\n  useLayoutEffect(() => {\n    checkPermission();\n  }, [])\n  const getUsers = async () => {\n    const data = await userAPI.getUsers(filter);\n    if (data) {\n      setUser(data.data.data);\n    }\n\n  }\n\n  const submitFrom = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    const target = e.target as typeof e.target & {\n      search: { value: string };\n      orderBy: { value: string };\n    };\n    setFilter({ ...filter, search: target.search.value, orderBy: target.orderBy.value });\n\n  };\n  const btnNextPage = () => {\n\n    if (filter.page === 1) {\n      return;\n    }\n    setFilter({ ...filter, page: filter.page ? filter.page - 1 : 1 });\n  }\n  const btnBackPage = () => {\n    if (user && user.length < 5) {\n      return;\n    }\n    setFilter({ ...filter, page: filter.page ? filter.page + 1 : 1 });\n  }\n  useEffect(() => {\n    getUsers();\n  }, [filter])\n\n  const btnDelete = async (id: number) => {\n    const data = await userAPI.deleteUser(id);\n    if (data) {\n      SweetAlert.AlertSuccess(\"Thông báo\", \"Xóa thành công\");\n      user && setUser(user.filter((user) => user.id !== id));\n    }\n    else {\n      SweetAlert.AlertError(\"Thông báo\", \"Xóa thất bại\");\n    }\n  }\n\n  const btnDetail = async (id: number) => {\n    const data = await userAPI.getUser(id);\n    Swal.fire({\n      title: \"Thông báo\",\n      html: `\n      Họ và tên: ${data.data.name} <br>\n      Email: ${data.data.email} <br>\n      Loại tài khoản: ${data.data.role_name} <br>\n      `,\n      showConfirmButton: true,\n    })\n    console.log(data);\n  }\n\n  const update = async (e: React.ChangeEvent<HTMLSelectElement>, id: number) => {\n    // console.log(e.target.value);\n    // const formData = new FormData();\n    // formData.append('role', e.target.value);\n    const data = await userAPI.updateUser(e.target.value, id);\n    if (data)\n    {\n      SweetAlert.AlertSuccess(\"Thông báo\", \"Sửa thành công\");\n    }\n    else\n      SweetAlert.AlertError(\"Thông báo\", \"Sửa thất bại\");\n  }\n  return (\n    <div className='d-flex container justify-content-center mt-5 flex-column'>\n      <h3>Quan lý tài khoản</h3>\n      <form className=\"mx-auto d-flex justify-content-end w-100\" onSubmit={submitFrom}>\n        <div className=\"form-outline mb-4 mx-3\">\n          <label className=\"form-label\" >name</label>\n          <input type=\"text\" name=\"search\" className=\"form-control\" />\n        </div>\n        <div className=\"form-outline mb-4 mx-3\">\n          <label className=\"form-label\" >Xắp xếp theo</label>\n          <select className=\"form-select\" name='orderBy'>\n            <option value=\"created_at,desc\">Tăng dần</option>\n            <option value=\"created_at,asc\">Giảm dần</option>\n          </select>\n        </div>\n        <button type=\"submit\" className=\"btn btn-primary btn-block mb-4 my-auto\">Lọc</button>\n\n      </form>\n      <table className=\"table\">\n        <thead>\n          <tr>\n            <th scope=\"col\">#</th>\n            <th scope=\"col\" className='w-75'>Họ và tên</th>\n            <th scope=\"col\">Chức năng</th>\n          </tr>\n        </thead>\n        <tbody>\n          {user?.map((data: User, index: number) => (\n            <tr key={index}>\n              <th scope=\"row\">{index + 1}</th>\n              <td>{data.name}</td>\n              <td className='d-flex'>\n                {isDetail && <button type=\"button\" onClick={() => btnDetail(data.id)} className=\"btn me-1 btn-warning\">Chi tiết</button>}\n                {isDelete && <button onClick={() => btnDelete(data.id)} type=\"button\" className=\"me-1 btn btn-danger\">Xóa</button>}\n                {isUpdate &&\n                  <>\n                    <div className=\"form-outline\">\n                      <select className=\"form-select\" onChange={(e) => update(e, data.id)} defaultValue={data.role_slug}>\n                        <option value=\"Admin\">Admin</option>\n                        <option value=\"mod\">mod</option>\n                        <option value=\"user\">user</option>\n                        <option value=\"guide\">guide</option>\n                      </select>\n                    </div>\n                  </>\n                }\n              </td>\n            </tr>\n          ))}\n\n        </tbody>\n      </table>\n\n      <nav aria-label=\"Page navigation example\">\n        <ul className=\"pagination\">\n          <li className=\"page-item mx-3\">\n            <p className='page-link pointer' onClick={() => btnNextPage()}>\n              Trang trước\n            </p>\n          </li>\n          <li className=\"page-item mx-3\">\n            <p className='page-link pointer' onClick={() => btnBackPage()}>\n              Trang sau\n            </p>\n          </li>\n        </ul>\n      </nav>\n    </div>\n\n  )\n}\n\nexport default App;\n\n\n","/var/www/html/FE/src/page/NotFound.tsx",[],[],"/var/www/html/FE/src/component/Layout.tsx",["86"],[],"/var/www/html/FE/src/page/auth/Login.tsx",[],[],"/var/www/html/FE/src/page/auth/Register.tsx",[],[],"/var/www/html/FE/src/api/authAPI.ts",[],[],"/var/www/html/FE/src/utils/axios.ts",[],[],"/var/www/html/FE/src/utils/cookie.ts",[],[],"/var/www/html/FE/src/mobX/AuthStore.ts",[],[],"/var/www/html/FE/src/type/UserType.ts",[],[],"/var/www/html/FE/src/utils/sweetalert.ts",[],[],"/var/www/html/FE/src/page/auth/PasswordReset.tsx",[],[],"/var/www/html/FE/src/page/auth/PasswordResetUpdate.tsx",[],[],"/var/www/html/FE/src/api/userAPI.ts",[],[],{"ruleId":"87","severity":1,"message":"88","line":35,"column":6,"nodeType":"89","endLine":35,"endColumn":8,"suggestions":"90"},{"ruleId":"87","severity":1,"message":"91","line":68,"column":6,"nodeType":"89","endLine":68,"endColumn":14,"suggestions":"92"},{"ruleId":"87","severity":1,"message":"93","line":19,"column":6,"nodeType":"89","endLine":19,"endColumn":35,"suggestions":"94"},"react-hooks/exhaustive-deps","React Hook useLayoutEffect has a missing dependency: 'checkPermission'. Either include it or remove the dependency array.","ArrayExpression",["95"],"React Hook useEffect has a missing dependency: 'getUsers'. Either include it or remove the dependency array.",["96"],"React Hook useLayoutEffect has missing dependencies: 'allowedURLs' and 'location.pathname'. Either include them or remove the dependency array. Outer scope values like 'authStore.isLogin' aren't valid dependencies because mutating them doesn't re-render the component.",["97"],{"desc":"98","fix":"99"},{"desc":"100","fix":"101"},{"desc":"102","fix":"103"},"Update the dependencies array to be: [checkPermission]",{"range":"104","text":"105"},"Update the dependencies array to be: [filter, getUsers]",{"range":"106","text":"107"},"Update the dependencies array to be: [allowedURLs, location.pathname, navigate]",{"range":"108","text":"109"},[1295,1297],"[checkPermission]",[2111,2119],"[filter, getUsers]",[610,639],"[allowedURLs, location.pathname, navigate]"]